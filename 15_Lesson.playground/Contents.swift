//Ð”Ð¾Ð¼Ð°ÑˆÐ½ÐµÐµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ:
//Ð”Ð— 1
// ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¸Ð¿ - ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ð° Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸ Ð´Ð»Ð¸Ð½Ð° Ð¸ ÑˆÐ¸Ñ€Ð¸Ð½Ð°
// ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¸Ð¿ - Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ Ð² ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ðµ (Ð¼Ð¾Ð¶Ð½Ð¾ ÐµÑ‰Ðµ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ñƒ ÑÐ²Ð¾Ð¹ÑÑ‚Ð² Ñ‚Ð¸Ð¿Ð° Ð¸Ð¼ÐµÐ½Ð¸ Ð¸Ð»Ð¸ Ñ‡ÐµÐ³Ð¾ ÑÐ°Ð¼Ð¸ Ñ…Ð¾Ñ‚Ð¸Ð¼)
// Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ ÐºÑ€Ð°ÑÐ¸Ð²Ð¾ Ñ€Ð°ÑÐ¿ÐµÑ‡Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ðµ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñƒ Ð¸ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð° Ð² Ð½ÐµÐ¹ (Ð³Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð¸ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ Ð²Ð½ÑƒÑ‚Ñ€Ð¸

// Ð”Ð— 2
// Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¼ÐµÑ‚Ð¾Ð´ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ñƒ Ð¸Ð´Ñ‚Ð¸ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ moveTo) Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¿ÐµÑ€ÐµÐ´Ð°ÐµÐ¼ enum (Ð»ÐµÐ²Ð¾/Ð¿Ñ€Ð°Ð²Ð¾/Ð²ÐµÑ€Ñ…/Ð²Ð½Ð¸Ð·)
// Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰Ð°Ñ‚ÑŒÑÑ Ð¿Ð¾ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ðµ Ð¸ ÑÐ±Ð¾ÐºÑƒ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°Ñ‚ÑŒ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ðµ ÐµÐ³Ð¾ Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð¸Ðµ
// Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾ Ð¿Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼Ñƒ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ Ð½Ðµ ÑÐ¼Ð¾Ð¶ÐµÑ‚ Ð²Ñ‹Ð¹Ñ‚Ð¸ Ð·Ð° Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‹ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹


//Ð”Ð— 3
// ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÑ‰Ð¸Ðº Ñ ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð°Ð¼Ð¸ Ñ…-Ñƒ
// Ð¾Ð½ Ð¿Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð°Ð¼ Ð½Ðµ Ð¿Ð¾ÐºÐ¸Ð´Ð°ÐµÑ‚ Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‹ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹
// Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ Ð¼Ð¾Ð¶ÐµÑ‚ Ð´Ð²Ð¸Ð³Ð°Ñ‚ÑŒ ÑÑ‰Ð¸Ðº
// Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒÑÑ Ñ ÑÑ‰Ð¸ÐºÐ¾Ð¼ Ð² Ð¾Ð´Ð½Ð¾Ð¹ ÐºÐ»ÐµÑ‚ÐºÐµ (ÐµÑÐ»Ð¸ ÑÑ‰Ð¸Ðº Ð´Ð°Ð¶Ðµ ÑƒÐ¿Ñ€ÐµÑ‚ÑÑ Ð² ÑÑ‚ÐµÐ½ÐºÑƒ)
// ÑÑ‰Ð¸Ðº Ñ‚Ð¾Ð¶Ðµ Ñ€Ð°ÑÐ¿ÐµÑ‡Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð² ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ðµ
// ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð¾Ñ‡ÐºÑƒ Ð² ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ðµ, Ð´Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð½Ð°Ð´Ð¾ Ð´Ð¾Ñ‚Ð°Ñ‰Ð¸Ñ‚ÑŒ ÑÑ‰Ð¸Ðº

let pers = "ðŸ§"
let dog = "ðŸ¶"
let door = "ðŸšª"
let field = "â¬œï¸"

let lenthRoom = 5
let widthRoom = 5

enum Directoins {
    case back
    case forward
    case right
    case left
}

struct Point {
    var pointX: Int {
        didSet {
            pointX = pointX > 0 && pointX <= lenthRoom ? pointX : oldValue
        }
    }
    var pointY: Int {
        didSet {
            pointY = pointY > 0 && pointY <= widthRoom ? pointY : oldValue
        }
    }
}

class Human {
    var coord: Point
    
    init(coord: Point) {
        self.coord = coord
    }
    
    func move(x: Directoins, dogCoord: Dog) { 
   
        var moveDog: Directoins
        
        switch (x, dogCoord.coord.pointX, dogCoord.coord.pointY) {
        case (.back, let dogPointX, let dogPointY) where dogPointY != 0 || dogPointX != self.coord.pointX:
            self.coord.pointY -= 1
            moveDog = .back
        case (.forward, let dogPointX, let dogPointY) where dogPointY != widthRoom || dogPointX != self.coord.pointX:
            self.coord.pointY += 1
            moveDog = .forward
        case (.left, let dogPointX, let dogPointY) where dogPointX != 1 || dogPointY != self.coord.pointY:
            self.coord.pointX -= 1
            moveDog = .left
        case (.right, let dogPointX, let dogPointY) where dogPointX != lenthRoom || dogPointY != self.coord.pointY:
            self.coord.pointX += 1
            moveDog = .right
        default:
            moveDog = .back; break
        }
        if (self.coord.pointX, self.coord.pointY) == (dogCoord.coord.pointX, dogCoord.coord.pointY) {
            dogCoord.Move(x: moveDog)
        }
    }
}

class Dog {
    var coord: Point
    
    init(coords: Point) {
        self.coord = coords
    }
    
    func Move(x: Directoins) {
        switch x {
        case .back:
            self.coord.pointY -= 1
        case .forward:
            self.coord.pointY += 1
        case .left:
            self.coord.pointX -= 1
        case .right:
            self.coord.pointX += 1
        }
    }
}

func printRoom (human: Human, dogie: Dog) {
    for y in 0...widthRoom - 1 {
        for x in 0...lenthRoom - 1 {
            if x == human.coord.pointX && y == human.coord.pointY {
                print(pers, terminator: " ")
            } else if x == dogie.coord.pointX && y == dogie.coord.pointY {
                print(dog, terminator: " ")
            } else if x == lenthRoom - 2 && y == widthRoom - 1 {
                print(door, terminator: " ")
            } else {
                print(field, terminator: " ")
            }
        }
        print()
    }
    print(" ")
    print(" ")
}

var human = Human(coord: Point(pointX: 2, pointY: 2))
var dogie = Dog(coords: Point(pointX: 3, pointY: 2))

printRoom(human: human, dogie: dogie)

human.move(x: .back, dogCoord: dogie)
printRoom(human: human, dogie: dogie)

